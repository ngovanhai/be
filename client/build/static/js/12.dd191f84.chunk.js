(this["webpackJsonpshop-clother"]=this["webpackJsonpshop-clother"]||[]).push([[12],{673:function(e,a,t){"use strict";t.r(a);var r=t(12),n=t.n(r),c=t(19),l=t(54),s=t(50),o=t(21),i=t(0),m=t.n(i),u=t(34),p=(t(275),t(276),t(71)),d=t(57),f=t(32),b=t(152);a.default=function(e){var a=Object(p.b)(),t=a.handleSubmit,r=a.register,g=(a.errors,Object(u.g)()),E=Object(f.b)(),h=Object(i.useState)({email:"",password:""}),v=Object(o.a)(h,2),N=v[0],w=v[1],O=function(e){var a=e.target,t=a.name,r=a.value;w(Object(s.a)({},N,Object(l.a)({},t,r)))},j=function(){var e=Object(c.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.login(Object(s.a)({},N));case 3:return a=e.sent,e.next=6,d.a.getUser();case 6:t=e.sent,E(Object(b.a)(t)),localStorage.setItem("token",JSON.stringify(a)),localStorage.setItem("firstLogin",!0),g.push("/admin"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){"true"==localStorage.getItem("firstLogin")&&g.push("/admin")}),[]),m.a.createElement("body",null,m.a.createElement("div",{className:"Login"},m.a.createElement("div",{className:" w3l-login-form"},m.a.createElement("h2",null,"Login Admin"),m.a.createElement("form",{onSubmit:t(j)},m.a.createElement("div",{className:" w3l-form-group"},m.a.createElement("label",{style:{color:"black"}},"Email:"),m.a.createElement("div",{className:"group"},m.a.createElement("i",{className:"fas fa-user"}),m.a.createElement("input",{name:"email",type:"email",onChange:O,className:"form-control",placeholder:"Email",required:"required",ref:r({validate:function(e){return"admin"!==e||"Nice try!"}})}))),m.a.createElement("div",{className:" w3l-form-group"},m.a.createElement("label",{style:{color:"black"}},"Password:"),m.a.createElement("div",{className:"group"},m.a.createElement("i",{className:"fas fa-unlock"}),m.a.createElement("input",{name:"password",type:"password",onChange:O,className:"form-control",placeholder:"Password",required:"required",ref:r({validate:function(e){return"admin"!==e||"Nice try!"}})}))),m.a.createElement("button",{className:"btnSubmit",type:"submit"},"Login")))))}}}]);
//# sourceMappingURL=12.dd191f84.chunk.js.map